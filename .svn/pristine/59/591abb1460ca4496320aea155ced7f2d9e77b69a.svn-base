<Graph name="PATIENT.query_PATIENT.k2tablePop.bin" lastPartID="53">
  <TableNode partID="0" name="PATIENT" pos="413 25.63543" width="309.324219" />
  <DBQueryNode partID="12" name="HIS_DB" pos="10 15.6718826" size="253 168.65625" isRoot="true">
    <DBQuery>{"Name":"query_PATIENT","ID":"query_query_PATIENT","ConnName":"HIS_DB","SQL":"SELECT * FROM PATIENT","ColumnsList":[{"ID":"queryCol_0","Name":"PATIENT_ID","DataType":"Text","Index":0,"IsInputArgument":true},{"ID":"queryCol_1","Name":"SSN","DataType":"Text","Index":1,"IsInputArgument":false},{"ID":"queryCol_2","Name":"FIRST_NAME","DataType":"Text","Index":2,"IsInputArgument":false},{"ID":"queryCol_3","Name":"LAST_NAME","DataType":"Text","Index":3,"IsInputArgument":false},{"ID":"queryCol_4","Name":"ADDRESS","DataType":"Text","Index":4,"IsInputArgument":false},{"ID":"queryCol_5","Name":"CITY","DataType":"Text","Index":5,"IsInputArgument":false},{"ID":"queryCol_6","Name":"ZIP","DataType":"Text","Index":6,"IsInputArgument":false},{"ID":"queryCol_7","Name":"STATE","DataType":"Text","Index":7,"IsInputArgument":false},{"ID":"queryCol_8","Name":"COUNTRY","DataType":"Text","Index":8,"IsInputArgument":false}]}</DBQuery>
  </DBQueryNode>
  <FunctionMapNode id="0" R0="1" partID="51" topLabel="funTestDates (51)" pos="193 283" size="141.349487 45.091156" isRoot="false">
    <KFunction>{"Name":"funTestDates","ID":"f_51","Category":"Test","Version":"3.0.0.1","FunctionLevel":0,"FunctionType":0,"FunctionType2":0,"RegisterAsLuDbFunction":false,"SaveToDLUR":false,"ApiFunction":false,"DecisionFunction":false,"RequiresLuReference":false,"Desc":"","Auther":{"Name":"","ID":""},"Language":1,"FunctionBody":"String res;\n//String parserStartTime = fnUpdateParserStartTime(\"MERCHANT_UPDATE_LIST\");\nString updateStartDate = null;\nString updateEndDate = null;\njava.text.DateFormat dateFormat = new java.text.SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\njava.util.Calendar startDate = java.util.Calendar.getInstance();\n\n//Rivi - Need to be changed back to -2 just for testing -30\n//startDate.add(java.util.Calendar.DATE, -60);\nstartDate.add(java.util.Calendar.DATE, -2);    \njava.util.Calendar endDate = java.util.Calendar.getInstance();\nendDate.add(java.util.Calendar.DATE, 0);    \nupdateStartDate = dateFormat.format(startDate.getTime());\nupdateEndDate = dateFormat.format(endDate.getTime());\nres = updateEndDate;\nreportUserMessage(\"Start date =\"+updateStartDate+\",End Date =\"+updateEndDate);\n\nString k2RegionPrefix = \"\";\nString payee = \"\";\nif(!k2RegionPrefix.equals(\"US_\") &amp;&amp; !k2RegionPrefix.equals(\"CA_\")){\n payee = \"\" +\n\"\tSelect \" +\n\"\t\tTRIM(LEADING '0' FROM MERCHANT) AS MRCH_NBR,\" +\n\"\t\tMAX(DW_UPDATE_DTM) AS DW_UPDT_DTM\" +\n\"\tFrom \" +\n\"\t\tADMIN.VW_\" + k2RegionPrefix + \"MMPAESQ_PYMT_NAME\" +\n\"\tGroup By 1\" +\n\"\" +\n\"\tUNION\" ;\n}\n\nres= \" SELECT \" +\n\"\tMRCH_NBR,\" +\n\"\tMAX(DW_UPDT_DTM) AS DW_UPDT_DTM\" +\n\" FROM (\" +\n\"\tSelect \" +\n\"\t\tTRIM(LEADING '0' FROM B.MERCHANT) AS MRCH_NBR,\" +\n\"\t\tMAX(A.DW_UPDATE_DTM) AS DW_UPDT_DTM\" +\n\"\tFrom \" +\n\"\t\tADMIN.VW_\" + k2RegionPrefix + \"MMCHNSQ_CHAIN_PARM As A\" +\n\"\tInner Join ADMIN.VW_\" + k2RegionPrefix + \"MMMSTSQ_MASTER As B \" +\n\"\t\tOn A.CORPORATE = B.CORPORATE \" +\n\"\t\tAnd A.REGION = B.REGION \" +\n\"\t\tAnd A.PRINCIPAL = B.PRINCIPAL \" +\n\"\t\tAnd A.ASSOCIATE =  B.ASSOCIATE \" +\n\"\t\tAnd A.CHAIN = B.CHAIN\" +\n\"\tGroup By 1\" +\n\"\" +\n\"\tUNION \" +\n\"\" +\n\"\tSelect \" +\n\"\t\tTRIM(LEADING '0' FROM MERCHANT) AS MRCH_NBR,\" +\n\"\t\tMAX(DW_UPDATE_DTM) AS DW_UPDT_DTM\" +\n\"\tFrom \" +\n\"\t\tADMIN.VW_\" + k2RegionPrefix + \"MMMSTSQ_MASTER\" +\n\"\tGroup By 1\" +\n\"\" +\n\"\tUNION\" +\n\"\" +\n\"\tSelect \" +\n\"\t\tTRIM(LEADING '0' FROM MERCHANT) AS MRCH_NBR,\" +\n\"\t\tMAX(DW_UPDATE_DTM) AS DW_UPDT_DTM\" +\n\"\tFrom \" +\n\"\t\tADMIN.VW_\" + k2RegionPrefix + \"MMIDXSQ_IDX\" +\n\"\tGroup By 1\" +\n\"\" +\n\"\tUNION\" +\n\"\" +\n\"\tSelect \" +\n\"\t\tTRIM(LEADING '0' FROM MERCHANT) AS MRCH_NBR,\" +\n\"\t\tMAX(DW_UPDATE_DTM) AS DW_UPDT_DTM\" +\n\"\tFrom \" +\n\"\t\tADMIN.VW_\" + k2RegionPrefix + \"MMAADSQ_ADDL_ADDRESS\" +\n\"\tGroup By 1\" +\n\"\" +\n\"\tUNION\" +\n\"\" +\n\"\tSelect \" +\n\"\t\tTRIM(LEADING '0' FROM MERCHANT) AS MRCH_NBR,\" +\n\"\t\tMAX(DW_UPDATE_DTM) AS DW_UPDT_DTM\" +\n\"\tFrom \" +\n\"\t\tADMIN.VW_\" + k2RegionPrefix + \"MMADDSQ_ADDRESS_INDEX\" +\n\"\tGroup By 1\" +\n\"\" +\n\"\tUNION\" +\n\"\" +\n\"\tSelect \" +\n\"\t\tTRIM(LEADING '0' FROM MERCHANT) AS MRCH_NBR,\" +\n\"\t\tMAX(DW_UPDATE_DTM) AS DW_UPDT_DTM\" +\n\"\tFrom \" +\n\"\t\tADMIN.VW_\" + k2RegionPrefix + \"MMMADSQ_ADDRESS_MASTER\" +\n\"\tGroup By 1\" +\n\"\" +\n\"\tUNION\" +\n\"\" +\n\"\tSelect \" +\n\"\t\tTRIM(LEADING '0' FROM MERCHANT) AS MRCH_NBR,\" +\n\"\t\tMAX(DW_UPDATE_DTM) AS DW_UPDT_DTM\" +\n\"\tFrom \" +\n\"\t\tADMIN.VW_\" + k2RegionPrefix + \"MMCSLSQ_CARD_SERVICELEVEL\" +\n\"\tGroup By 1\" +\n\"\" +\n\"\tUNION\" +\n\"\" +\n\"\tSelect \" +\n\"\t\tTRIM(LEADING '0' FROM MERCHANT) AS MRCH_NBR,\" +\n\"\t\tMAX(DW_UPDATE_DTM) AS DW_UPDT_DTM\" +\n\"\tFrom \" +\n\"\t\tADMIN.VW_\" + k2RegionPrefix + \"MMDDASQ_DDA\" +\n\"\tGROUP BY 1\" +\n\"\" +\n\"\tUNION\" +\n\"\" +\n\"\tSelect \" +\n\"\t\tTRIM(LEADING '0' FROM MERCHANT) AS MRCH_NBR,\" +\n\"\t\tMAX(DW_UPDATE_DTM) AS DW_UPDT_DTM\" +\n\"\tFrom \" +\n\"\t\tADMIN.VW_\" + k2RegionPrefix + \"MMEMLSQ_EMAIL\" +\n\"\tGroup By 1\" +\n\"\" +\n\"\tUNION\" +\n\"\" +\n\"\tSelect \" +\n\"\t\tTRIM(LEADING '0' FROM MERCHANT) AS MRCH_NBR,\" +\n\"\t\tMAX(DW_UPDATE_DTM) AS DW_UPDT_DTM\" +\n\"\tFrom \" +\n\"\t\tADMIN.VW_\" + k2RegionPrefix + \"MMIDXAP_IDX_AP\" +\n\"\tGroup By 1\" +\n\"\" +\n\"\tUNION\" +\n\"\" +\n\"\tSelect \" +\n\"\t\tTRIM(LEADING '0' FROM MERCHANT) AS MRCH_NBR,\" +\n\"\t\tMAX(DW_UPDATE_DTM) AS DW_UPDT_DTM\" +\n\"\tFrom \" +\n\"\t\tADMIN.VW_\" + k2RegionPrefix + \"MMINTSQ_IDX_INTEGRITY\" +\n\"\tGroup By 1\" +\n\"\" +\n\"\tUNION\" +\n\"\" +\n\"\tSelect \" +\n\"\t\tTRIM(LEADING '0' FROM MERCHANT) AS MRCH_NBR,\" +\n\"\t\tMAX(DW_UPDATE_DTM) AS DW_UPDT_DTM\" +\n\"\tFrom \" +\n\"\t\tADMIN.VW_\" + k2RegionPrefix + \"MMOFFSQ_OFFICER\" +\n\"\tGroup By 1\" +\n\"\" +\n\"\tUNION\" +\npayee +\n\"\" +\n\"\tSelect \" +\n\"\t\tTRIM(LEADING '0' FROM MERCHANT) AS MRCH_NBR,\" +\n\"\t\tMAX(DW_UPDATE_DTM) AS DW_UPDT_DTM\" +\n\"\tFrom \" +\n\"\t\tADMIN.VW_\" + k2RegionPrefix + \"MMOWNSQ_OWNER\" +\n\"\tGroup By 1) TMP\" +\n\" where DW_UPDT_DTM &gt; '\"+ startDate +\"' and DW_UPDT_DTM &lt; '\"+ endDate +\"' Group by 1\";\n\nreportUserMessage(res);\nreturn res;","IsSyntaxValid":true,"IsRootFunction":false,"inputParams":[],"outputParams":[{"Name":"res","ID":"fo_51.0","Index":0,"DataType":"String"}]}</KFunction>
  </FunctionMapNode>
  <Link partID="22" from="2" to="3" pointsArr="263 51.70834 273 51.70834 403 56.6718864 413 56.6718864" fromNodePartID="12" fromNodeColumnName="PATIENT_ID" toNodePartID="0" toNodeColumnName="PATIENT_ID" />
  <Link partID="23" from="4" to="5" pointsArr="263 63.7812576 273 63.7812576 403 68.7448044 413 68.7448044" fromNodePartID="12" fromNodeColumnName="SSN" toNodePartID="0" toNodeColumnName="SSN" />
  <Link partID="24" from="6" to="7" pointsArr="263 75.85417 273 75.85417 403 80.81772 413 80.81772" fromNodePartID="12" fromNodeColumnName="FIRST_NAME" toNodePartID="0" toNodeColumnName="FIRST_NAME" />
  <Link partID="25" from="8" to="9" pointsArr="263 87.9270859 273 87.9270859 403 92.89063 413 92.89063" fromNodePartID="12" fromNodeColumnName="LAST_NAME" toNodePartID="0" toNodeColumnName="LAST_NAME" />
  <Link partID="26" from="10" to="11" pointsArr="263 100 273 100 403 104.963547 413 104.963547" fromNodePartID="12" fromNodeColumnName="ADDRESS" toNodePartID="0" toNodeColumnName="ADDRESS" />
  <Link partID="27" from="12" to="13" pointsArr="263 112.072914 273 112.072914 403 117.036461 413 117.036461" fromNodePartID="12" fromNodeColumnName="CITY" toNodePartID="0" toNodeColumnName="CITY" />
  <Link partID="28" from="14" to="15" pointsArr="263 124.145836 273 124.145836 403 129.109375 413 129.109375" fromNodePartID="12" fromNodeColumnName="ZIP" toNodePartID="0" toNodeColumnName="ZIP" />
  <Link partID="29" from="16" to="17" pointsArr="263 136.21875 273 136.21875 403 141.182312 413 141.182312" fromNodePartID="12" fromNodeColumnName="STATE" toNodePartID="0" toNodeColumnName="STATE" />
  <Link partID="30" from="18" to="19" pointsArr="263 148.291687 273 148.291687 403 153.255219 413 153.255219" fromNodePartID="12" fromNodeColumnName="COUNTRY" toNodePartID="0" toNodeColumnName="COUNTRY" />
  <Link partID="53" from="1" to="20" pointsArr="334.3495 308.091156 344.3495 308.091156 406 175.32811 416 175.32811" fromNodePartID="51" fromNodeColumnName="res" toNodePartID="0" toNodeColumnName="LinkZone" toNodeLinkZone="true" />
</Graph>